[set.screencapture]
type = "png"
show-thumbnail = false
target = "clipboard"

[set.AppleMultitouchTrackpad]
FirstClickThreshold = 0
TrackpadThreeFingerDrag = true

[set.dock]
autohide-time-modifier = 0.6
expose-group-apps = true
mineffect = "suck"
show-recents = false
tilesize = 70
static-only = true
magnification = true
autohide = true
orientation = "bottom"
autohide-delay = 0

[set.finder]
AppleShowAllFiles = true
FXDefaultSearchScope = "SCcf"
FXRemoveOldTrashItems = true
CreateDesktop = false
ShowExternalHardDrivesOnDesktop = false
FXEnableExtensionChangeWarning = false
ShowPathbar = true

[set.HIToolbox]
AppleFnUsageType = 0

[set.menuextra.clock]
FlashDateSeparators = true
Show24Hour = false
ShowAMPM = false
ShowDate = 2
ShowDayOfWeek = false
ShowSeconds = true

[set.NSGlobalDomain]
InitialKeyRepeat = 15
KeyRepeat = 2
NSAutoFillHeuristicControllerEnabled = false
NSAutomaticInlinePredictionEnabled = false
"com.apple.keyboard.fnState" = false
NSAutomaticSpellingCorrectionEnabled = false
NSDocumentSaveNewDocumentsToCloud = false

[vars]
hostname = "darkstar"

[command.hostname]
run = """
sudo scutil --set LocalHostName $hostname
sudo scutil --set HostName $hostname
sudo scutil --set ComputerName $hostname
"""
flag = true

[command.dotfiles]
run = """
if [ ! -d ~/Developer/dotfiles ]; then
  git clone https://github.com/hitblast/dotfiles.git ~/Developer/dotfiles
fi
cd ~/Developer/dotfiles
stow . -t ~ --adopt
"""
ensure_first = true
required = [
    "stow",
    "git",
]
flag = true

[command.touchid]
run = """
sed "s/^#auth/auth/" /etc/pam.d/sudo_local.template | sudo tee /etc/pam.d/sudo_local
"""
flag = true

[command.mise]
run = "mise install"
required = ["mise"]
flag = true

[command.uv]
run = """
uv tool install basedpyright
uv tool install ruff
"""
required = ["uv"]
flag = true

[brew]
formulae = [
    "bash",
    "bash-completion@2",
    "bat",
    "cargo-edit",
    "cmake",
    "drs",
    "dust",
    "fd",
    "gh",
    "git",
    "hookman",
    "lazygit",
    "libyaml",
    "mactop",
    "mas",
    "mise",
    "ncspot",
    "ninja",
    "ripgrep",
    "sccache",
    "stow",
    "tokei",
    "tree",
    "uv",
    "zoxide",
]
casks = [
    "aerospace",
    "android-platform-tools",
    "appcleaner",
    "container",
    "discord",
    "font-sf-mono-nerd-font-ligaturized",
    "ghostty",
    "hot",
    "iina",
    "karabiner-elements",
    "keyboardcleantool",
    "orbstack",
    "protonvpn",
    "signal",
    "spotify",
    "tower",
    "transmission",
    "zed",
    "zen",
]
taps = [
    "hitblast/tap",
    "nikitabobko/tap",
    "soloantonio/cartero",
]
no_deps = true

[remote]
url = "https://raw.githubusercontent.com/hitblast/dotfiles/refs/heads/master/.config/cutler/config.toml"
autosync = false
